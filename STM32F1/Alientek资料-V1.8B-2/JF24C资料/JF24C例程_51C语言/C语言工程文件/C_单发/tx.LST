C51 COMPILER V8.08   TX                                                                    12/28/2009 14:07:55 PAGE 1   


C51 COMPILER V8.08, COMPILATION OF MODULE TX
OBJECT MODULE PLACED IN tx.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE tx.c ROM(SMALL) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /****************************************Copyright (c)****************************************************
   2          **
   3          **                                   安阳新世纪电子研究所           
   4          **                                           
   5          **                                   http://www.ayxsj.com
   6          **
   7          **--------------File Info---------------------------------------------------------------------------------
   8          ** File name:                   tx.c
   9          ** Last modified Date:          2009-09-16
  10          ** Last Version:                V1.0
  11          ** Descriptions:                
  12          *********************************************************************************************************/
  13          
  14          #include<reg51.h>
  15          #include<jf24c.h>
  16          
  17          void delay_1ms(unsigned char n)
  18          {
  19   1        unsigned char i,m;
  20   1        for(i=0;i<n;i++)
  21   1              {
  22   2                      for(m=0;m<220;m++);
  23   2                      for(m=0;m<220;m++);
  24   2               }
  25   1      }
  26          
  27          main()
  28          {
  29   1              SP = 0x60;
  30   1              P1 = 0xFF;
  31   1          KEY_TX=1;
  32   1              P3 = 0xFF;
  33   1              delay_1ms(20);
  34   1              rf_rst();                // JF24C初始化子函数
  35   1      //************************************
  36   1      //**  初始化成功,LED_RX灯亮20ms
  37   1      //************************************
  38   1                      LED_RX=0;
  39   1                      delay_1ms(20);
  40   1                      LED_RX=1;
  41   1                      delay_1ms(20);
  42   1      //************************************
  43   1      
  44   1      
  45   1              while(1)
  46   1              {
  47   2                      if(!KEY_TX)
  48   2                      {
  49   3                      unsigned char mm[50]={"0372-5968708/安阳新世纪电子研究所-2009/9/16"};  // 发送的数据 
  50   3      
  51   3                      tx_data(mm);    //发送子函数
  52   3      
  53   3      //************************************
  54   3      //**   发完一组,LED_TX亮20ms
  55   3      //************************************
C51 COMPILER V8.08   TX                                                                    12/28/2009 14:07:55 PAGE 2   

  56   3                      LED_TX=0;
  57   3                      delay_1ms(20);
  58   3                      LED_TX=1;
  59   3                      delay_1ms(20);
  60   3      //************************************  
  61   3                      }
  62   2              }
  63   1      }
  64          /*********************************************************************************************************
  65            END FILE
  66          *********************************************************************************************************/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     91    ----
   CONSTANT SIZE    =     50    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      50
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
